{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport { COMPONENT_UID_KEY, Vue } from '../../vue';\nimport { NAME_MODAL } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CANCEL, EVENT_NAME_CHANGE, EVENT_NAME_CLOSE, EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_OK, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, EVENT_NAME_TOGGLE, EVENT_OPTIONS_NO_CAPTURE } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_MODAL_BACKDROP, SLOT_NAME_MODAL_CANCEL, SLOT_NAME_MODAL_FOOTER, SLOT_NAME_MODAL_HEADER, SLOT_NAME_MODAL_HEADER_CLOSE, SLOT_NAME_MODAL_OK, SLOT_NAME_MODAL_TITLE } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { attemptFocus, closest, contains, getActiveElement as _getActiveElement, getTabables, requestAF, select } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName, eventOn, eventOff } from '../../utils/events';\nimport { htmlOrText } from '../../utils/html';\nimport { identity } from '../../utils/identity';\nimport { isString, isUndefinedOrNull } from '../../utils/inspect';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { observeDom } from '../../utils/observe-dom';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnDocumentMixin } from '../../mixins/listen-on-document';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenOnWindowMixin } from '../../mixins/listen-on-window';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { scopedStyleMixin } from '../../mixins/scoped-style';\nimport { BButton } from '../button/button';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition';\nimport { BVTransporter } from '../transporter/transporter';\nimport { BvModalEvent } from './helpers/bv-modal-event.class';\nimport { modalManager } from './helpers/modal-manager'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('visible', {\n    type: PROP_TYPE_BOOLEAN,\n    defaultValue: false,\n    event: EVENT_NAME_CHANGE\n  }),\n  modelMixin = _makeModelMixin.mixin,\n  modelProps = _makeModelMixin.props,\n  MODEL_PROP_NAME = _makeModelMixin.prop,\n  MODEL_EVENT_NAME = _makeModelMixin.event;\nvar TRIGGER_BACKDROP = 'backdrop';\nvar TRIGGER_ESC = 'esc';\nvar TRIGGER_FORCE = 'FORCE';\nvar TRIGGER_TOGGLE = 'toggle';\nvar BUTTON_CANCEL = 'cancel'; // TODO: This should be renamed to 'close'\n\nvar BUTTON_CLOSE = 'headerclose';\nvar BUTTON_OK = 'ok';\nvar BUTTONS = [BUTTON_CANCEL, BUTTON_CLOSE, BUTTON_OK]; // `ObserveDom` config to detect changes in modal content\n// so that we can adjust the modal padding if needed\n\nvar OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  attributes: true,\n  attributeFilter: ['style', 'class']\n}; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  autoFocusButton: makeProp(PROP_TYPE_STRING, null, /* istanbul ignore next */\n  function (value) {\n    return isUndefinedOrNull(value) || arrayIncludes(BUTTONS, value);\n  }),\n  bodyBgVariant: makeProp(PROP_TYPE_STRING),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  bodyTextVariant: makeProp(PROP_TYPE_STRING),\n  busy: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonSize: makeProp(PROP_TYPE_STRING),\n  cancelDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  cancelTitle: makeProp(PROP_TYPE_STRING, 'Cancel'),\n  cancelTitleHtml: makeProp(PROP_TYPE_STRING),\n  cancelVariant: makeProp(PROP_TYPE_STRING, 'secondary'),\n  centered: makeProp(PROP_TYPE_BOOLEAN, false),\n  contentClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  dialogClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerBgVariant: makeProp(PROP_TYPE_STRING),\n  footerBorderVariant: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerTextVariant: makeProp(PROP_TYPE_STRING),\n  headerBgVariant: makeProp(PROP_TYPE_STRING),\n  headerBorderVariant: makeProp(PROP_TYPE_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerCloseContent: makeProp(PROP_TYPE_STRING, '&times;'),\n  headerCloseLabel: makeProp(PROP_TYPE_STRING, 'Close'),\n  headerCloseVariant: makeProp(PROP_TYPE_STRING),\n  headerTextVariant: makeProp(PROP_TYPE_STRING),\n  // TODO: Rename to `noBackdrop` and deprecate `hideBackdrop`\n  hideBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noFooter` and deprecate `hideFooter`\n  hideFooter: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeader` and deprecate `hideHeader`\n  hideHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeaderClose` and deprecate `hideHeaderClose`\n  hideHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  ignoreEnforceFocusSelector: makeProp(PROP_TYPE_ARRAY_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  modalClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  noStacking: makeProp(PROP_TYPE_BOOLEAN, false),\n  okDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  okOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  okTitle: makeProp(PROP_TYPE_STRING, 'OK'),\n  okTitleHtml: makeProp(PROP_TYPE_STRING),\n  okVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  // HTML Element, CSS selector string or Vue component instance\n  returnFocus: makeProp([HTMLElement, PROP_TYPE_OBJECT, PROP_TYPE_STRING]),\n  scrollable: makeProp(PROP_TYPE_BOOLEAN, false),\n  size: makeProp(PROP_TYPE_STRING, 'md'),\n  static: makeProp(PROP_TYPE_BOOLEAN, false),\n  title: makeProp(PROP_TYPE_STRING),\n  titleClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  titleHtml: makeProp(PROP_TYPE_STRING),\n  titleSrOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  titleTag: makeProp(PROP_TYPE_STRING, 'h5')\n})), NAME_MODAL); // --- Main component ---\n// @vue/component\n\nexport var BModal = /*#__PURE__*/Vue.extend({\n  name: NAME_MODAL,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnDocumentMixin, listenOnRootMixin, listenOnWindowMixin, normalizeSlotMixin, scopedStyleMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      isHidden: true,\n      // If modal should not be in document\n      isVisible: false,\n      // Controls modal visible state\n      isTransitioning: false,\n      // Used for style control\n      isShow: false,\n      // Used for style control\n      isBlock: false,\n      // Used for style control\n      isOpening: false,\n      // To signal that the modal is in the process of opening\n      isClosing: false,\n      // To signal that the modal is in the process of closing\n      ignoreBackdropClick: false,\n      // Used to signify if click out listener should ignore the click\n      isModalOverflowing: false,\n      // The following items are controlled by the modalManager instance\n      scrollbarWidth: 0,\n      zIndex: modalManager.getBaseZIndex(),\n      isTop: true,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalId: function modalId() {\n      return this.safeId();\n    },\n    modalOuterId: function modalOuterId() {\n      return this.safeId('__BV_modal_outer_');\n    },\n    modalHeaderId: function modalHeaderId() {\n      return this.safeId('__BV_modal_header_');\n    },\n    modalBodyId: function modalBodyId() {\n      return this.safeId('__BV_modal_body_');\n    },\n    modalTitleId: function modalTitleId() {\n      return this.safeId('__BV_modal_title_');\n    },\n    modalContentId: function modalContentId() {\n      return this.safeId('__BV_modal_content_');\n    },\n    modalFooterId: function modalFooterId() {\n      return this.safeId('__BV_modal_footer_');\n    },\n    modalBackdropId: function modalBackdropId() {\n      return this.safeId('__BV_modal_backdrop_');\n    },\n    modalClasses: function modalClasses() {\n      return [{\n        fade: !this.noFade,\n        show: this.isShow\n      }, this.modalClass];\n    },\n    modalStyles: function modalStyles() {\n      var sbWidth = \"\".concat(this.scrollbarWidth, \"px\");\n      return {\n        paddingLeft: !this.isBodyOverflowing && this.isModalOverflowing ? sbWidth : '',\n        paddingRight: this.isBodyOverflowing && !this.isModalOverflowing ? sbWidth : '',\n        // Needed to fix issue https://github.com/bootstrap-vue/bootstrap-vue/issues/3457\n        // Even though we are using v-show, we must ensure 'none' is restored in the styles\n        display: this.isBlock ? 'block' : 'none'\n      };\n    },\n    dialogClasses: function dialogClasses() {\n      var _ref;\n      return [(_ref = {}, _defineProperty(_ref, \"modal-\".concat(this.size), this.size), _defineProperty(_ref, 'modal-dialog-centered', this.centered), _defineProperty(_ref, 'modal-dialog-scrollable', this.scrollable), _ref), this.dialogClass];\n    },\n    headerClasses: function headerClasses() {\n      var _ref2;\n      return [(_ref2 = {}, _defineProperty(_ref2, \"bg-\".concat(this.headerBgVariant), this.headerBgVariant), _defineProperty(_ref2, \"text-\".concat(this.headerTextVariant), this.headerTextVariant), _defineProperty(_ref2, \"border-\".concat(this.headerBorderVariant), this.headerBorderVariant), _ref2), this.headerClass];\n    },\n    titleClasses: function titleClasses() {\n      return [{\n        'sr-only': this.titleSrOnly\n      }, this.titleClass];\n    },\n    bodyClasses: function bodyClasses() {\n      var _ref3;\n      return [(_ref3 = {}, _defineProperty(_ref3, \"bg-\".concat(this.bodyBgVariant), this.bodyBgVariant), _defineProperty(_ref3, \"text-\".concat(this.bodyTextVariant), this.bodyTextVariant), _ref3), this.bodyClass];\n    },\n    footerClasses: function footerClasses() {\n      var _ref4;\n      return [(_ref4 = {}, _defineProperty(_ref4, \"bg-\".concat(this.footerBgVariant), this.footerBgVariant), _defineProperty(_ref4, \"text-\".concat(this.footerTextVariant), this.footerTextVariant), _defineProperty(_ref4, \"border-\".concat(this.footerBorderVariant), this.footerBorderVariant), _ref4), this.footerClass];\n    },\n    modalOuterStyle: function modalOuterStyle() {\n      // Styles needed for proper stacking of modals\n      return {\n        position: 'absolute',\n        zIndex: this.zIndex\n      };\n    },\n    slotScope: function slotScope() {\n      return {\n        cancel: this.onCancel,\n        close: this.onClose,\n        hide: this.hide,\n        ok: this.onOk,\n        visible: this.isVisible\n      };\n    },\n    computeIgnoreEnforceFocusSelector: function computeIgnoreEnforceFocusSelector() {\n      // Normalize to an single selector with selectors separated by `,`\n      return concat(this.ignoreEnforceFocusSelector).filter(identity).join(',').trim();\n    },\n    computedAttrs: function computedAttrs() {\n      // If the parent has a scoped style attribute, and the modal\n      // is portalled, add the scoped attribute to the modal wrapper\n      var scopedStyleAttrs = !this.static ? this.scopedStyleAttrs : {};\n      return _objectSpread(_objectSpread(_objectSpread({}, scopedStyleAttrs), this.bvAttrs), {}, {\n        id: this.modalOuterId\n      });\n    },\n    computedModalAttrs: function computedModalAttrs() {\n      var isVisible = this.isVisible,\n        ariaLabel = this.ariaLabel;\n      return {\n        id: this.modalId,\n        role: 'dialog',\n        'aria-hidden': isVisible ? null : 'true',\n        'aria-modal': isVisible ? 'true' : null,\n        'aria-label': ariaLabel,\n        'aria-labelledby': this.hideHeader || ariaLabel ||\n        // TODO: Rename slot to `title` and deprecate `modal-title`\n        !(this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) || this.titleHtml || this.title) ? null : this.modalTitleId,\n        'aria-describedby': this.modalBodyId\n      };\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this[newValue ? 'show' : 'hide']();\n    }\n  }),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_observer = null;\n    this.$_returnFocus = this.returnFocus || null;\n  },\n  mounted: function mounted() {\n    // Set initial z-index as queried from the DOM\n    this.zIndex = modalManager.getBaseZIndex(); // Listen for events from others to either open or close ourselves\n    // and listen to all modals to enable/disable enforce focus\n\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_SHOW), this.showHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_HIDE), this.hideHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_TOGGLE), this.toggleHandler); // Listen for `bv:modal::show events`, and close ourselves if the\n    // opening modal not us\n\n    this.listenOnRoot(getRootEventName(NAME_MODAL, EVENT_NAME_SHOW), this.modalListener); // Initially show modal?\n\n    if (this[MODEL_PROP_NAME] === true) {\n      this.$nextTick(this.show);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Ensure everything is back to normal\n    this.setObserver(false);\n    if (this.isVisible) {\n      this.isVisible = false;\n      this.isShow = false;\n      this.isTransitioning = false;\n    }\n  },\n  methods: {\n    setObserver: function setObserver() {\n      var on = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.$_observer && this.$_observer.disconnect();\n      this.$_observer = null;\n      if (on) {\n        this.$_observer = observeDom(this.$refs.content, this.checkModalOverflow.bind(this), OBSERVER_CONFIG);\n      }\n    },\n    // Private method to update the v-model\n    updateModel: function updateModel(value) {\n      if (value !== this[MODEL_PROP_NAME]) {\n        this.$emit(MODEL_EVENT_NAME, value);\n      }\n    },\n    // Private method to create a BvModalEvent object\n    buildEvent: function buildEvent(type) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvModalEvent(type, _objectSpread(_objectSpread({\n        // Default options\n        cancelable: false,\n        target: this.$refs.modal || this.$el || null,\n        relatedTarget: null,\n        trigger: null\n      }, options), {}, {\n        // Options that can't be overridden\n        vueTarget: this,\n        componentId: this.modalId\n      }));\n    },\n    // Public method to show modal\n    show: function show() {\n      if (this.isVisible || this.isOpening) {\n        // If already open, or in the process of opening, do nothing\n\n        /* istanbul ignore next */\n        return;\n      }\n      /* istanbul ignore next */\n\n      if (this.isClosing) {\n        // If we are in the process of closing, wait until hidden before re-opening\n\n        /* istanbul ignore next */\n        this.$once(EVENT_NAME_HIDDEN, this.show);\n        /* istanbul ignore next */\n\n        return;\n      }\n      this.isOpening = true; // Set the element to return focus to when closed\n\n      this.$_returnFocus = this.$_returnFocus || this.getActiveElement();\n      var showEvt = this.buildEvent(EVENT_NAME_SHOW, {\n        cancelable: true\n      });\n      this.emitEvent(showEvt); // Don't show if canceled\n\n      if (showEvt.defaultPrevented || this.isVisible) {\n        this.isOpening = false; // Ensure the v-model reflects the current state\n\n        this.updateModel(false);\n        return;\n      } // Show the modal\n\n      this.doShow();\n    },\n    // Public method to hide modal\n    hide: function hide() {\n      var trigger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      if (!this.isVisible || this.isClosing) {\n        /* istanbul ignore next */\n        return;\n      }\n      this.isClosing = true;\n      var hideEvt = this.buildEvent(EVENT_NAME_HIDE, {\n        cancelable: trigger !== TRIGGER_FORCE,\n        trigger: trigger || null\n      }); // We emit specific event for one of the three built-in buttons\n\n      if (trigger === BUTTON_OK) {\n        this.$emit(EVENT_NAME_OK, hideEvt);\n      } else if (trigger === BUTTON_CANCEL) {\n        this.$emit(EVENT_NAME_CANCEL, hideEvt);\n      } else if (trigger === BUTTON_CLOSE) {\n        this.$emit(EVENT_NAME_CLOSE, hideEvt);\n      }\n      this.emitEvent(hideEvt); // Hide if not canceled\n\n      if (hideEvt.defaultPrevented || !this.isVisible) {\n        this.isClosing = false; // Ensure v-model reflects current state\n\n        this.updateModel(true);\n        return;\n      } // Stop observing for content changes\n\n      this.setObserver(false); // Trigger the hide transition\n\n      this.isVisible = false; // Update the v-model\n\n      this.updateModel(false);\n    },\n    // Public method to toggle modal visibility\n    toggle: function toggle(triggerEl) {\n      if (triggerEl) {\n        this.$_returnFocus = triggerEl;\n      }\n      if (this.isVisible) {\n        this.hide(TRIGGER_TOGGLE);\n      } else {\n        this.show();\n      }\n    },\n    // Private method to get the current document active element\n    getActiveElement: function getActiveElement() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      var activeElement = _getActiveElement(IS_BROWSER ? [document.body] : []); // Preset the fallback return focus value if it is not set\n      // `document.activeElement` should be the trigger element that was clicked or\n      // in the case of using the v-model, which ever element has current focus\n      // Will be overridden by some commands such as toggle, etc.\n      // Note: On IE 11, `document.activeElement` may be `null`\n      // So we test it for truthiness first\n      // https://github.com/bootstrap-vue/bootstrap-vue/issues/3206\n\n      return activeElement && activeElement.focus ? activeElement : null;\n    },\n    // Private method to finish showing modal\n    doShow: function doShow() {\n      var _this = this;\n\n      /* istanbul ignore next: commenting out for now until we can test stacking */\n      if (modalManager.modalsAreOpen && this.noStacking) {\n        // If another modal(s) is already open, wait for it(them) to close\n        this.listenOnRootOnce(getRootEventName(NAME_MODAL, EVENT_NAME_HIDDEN), this.doShow);\n        return;\n      }\n      modalManager.registerModal(this); // Place modal in DOM\n\n      this.isHidden = false;\n      this.$nextTick(function () {\n        // We do this in `$nextTick()` to ensure the modal is in DOM first\n        // before we show it\n        _this.isVisible = true;\n        _this.isOpening = false; // Update the v-model\n\n        _this.updateModel(true);\n        _this.$nextTick(function () {\n          // Observe changes in modal content and adjust if necessary\n          // In a `$nextTick()` in case modal content is lazy\n          _this.setObserver(true);\n        });\n      });\n    },\n    // Transition handlers\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n      this.setResizeEvent(true);\n    },\n    onEnter: function onEnter() {\n      var _this2 = this;\n      this.isBlock = true; // We add the `show` class 1 frame later\n      // `requestAF()` runs the callback before the next repaint, so we need\n      // two calls to guarantee the next frame has been rendered\n\n      requestAF(function () {\n        requestAF(function () {\n          _this2.isShow = true;\n        });\n      });\n    },\n    onAfterEnter: function onAfterEnter() {\n      var _this3 = this;\n      this.checkModalOverflow();\n      this.isTransitioning = false; // We use `requestAF()` to allow transition hooks to complete\n      // before passing control over to the other handlers\n      // This will allow users to not have to use `$nextTick()` or `requestAF()`\n      // when trying to pre-focus an element\n\n      requestAF(function () {\n        _this3.emitEvent(_this3.buildEvent(EVENT_NAME_SHOWN));\n        _this3.setEnforceFocus(true);\n        _this3.$nextTick(function () {\n          // Delayed in a `$nextTick()` to allow users time to pre-focus\n          // an element if the wish\n          _this3.focusFirst();\n        });\n      });\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n      this.setResizeEvent(false);\n      this.setEnforceFocus(false);\n    },\n    onLeave: function onLeave() {\n      // Remove the 'show' class\n      this.isShow = false;\n    },\n    onAfterLeave: function onAfterLeave() {\n      var _this4 = this;\n      this.isBlock = false;\n      this.isTransitioning = false;\n      this.isModalOverflowing = false;\n      this.isHidden = true;\n      this.$nextTick(function () {\n        _this4.isClosing = false;\n        modalManager.unregisterModal(_this4);\n        _this4.returnFocusTo(); // TODO: Need to find a way to pass the `trigger` property\n        //       to the `hidden` event, not just only the `hide` event\n\n        _this4.emitEvent(_this4.buildEvent(EVENT_NAME_HIDDEN));\n      });\n    },\n    emitEvent: function emitEvent(bvEvent) {\n      var type = bvEvent.type; // We emit on `$root` first in case a global listener wants to cancel\n      // the event first before the instance emits its event\n\n      this.emitOnRoot(getRootEventName(NAME_MODAL, type), bvEvent, bvEvent.componentId);\n      this.$emit(type, bvEvent);\n    },\n    // UI event handlers\n    onDialogMousedown: function onDialogMousedown() {\n      var _this5 = this;\n\n      // Watch to see if the matching mouseup event occurs outside the dialog\n      // And if it does, cancel the clickOut handler\n      var modal = this.$refs.modal;\n      var onceModalMouseup = function onceModalMouseup(event) {\n        eventOff(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n        if (event.target === modal) {\n          _this5.ignoreBackdropClick = true;\n        }\n      };\n      eventOn(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n    },\n    onClickOut: function onClickOut(event) {\n      if (this.ignoreBackdropClick) {\n        // Click was initiated inside the modal content, but finished outside.\n        // Set by the above onDialogMousedown handler\n        this.ignoreBackdropClick = false;\n        return;\n      } // Do nothing if not visible, backdrop click disabled, or element\n      // that generated click event is no longer in document body\n\n      if (!this.isVisible || this.noCloseOnBackdrop || !contains(document.body, event.target)) {\n        return;\n      } // If backdrop clicked, hide modal\n\n      if (!contains(this.$refs.content, event.target)) {\n        this.hide(TRIGGER_BACKDROP);\n      }\n    },\n    onOk: function onOk() {\n      this.hide(BUTTON_OK);\n    },\n    onCancel: function onCancel() {\n      this.hide(BUTTON_CANCEL);\n    },\n    onClose: function onClose() {\n      this.hide(BUTTON_CLOSE);\n    },\n    onEsc: function onEsc(event) {\n      // If ESC pressed, hide modal\n      if (event.keyCode === CODE_ESC && this.isVisible && !this.noCloseOnEsc) {\n        this.hide(TRIGGER_ESC);\n      }\n    },\n    // Document focusin listener\n    focusHandler: function focusHandler(event) {\n      // If focus leaves modal content, bring it back\n      var content = this.$refs.content;\n      var target = event.target;\n      if (this.noEnforceFocus || !this.isTop || !this.isVisible || !content || document === target || contains(content, target) || this.computeIgnoreEnforceFocusSelector && closest(this.computeIgnoreEnforceFocusSelector, target, true)) {\n        return;\n      }\n      var tabables = getTabables(this.$refs.content);\n      var bottomTrap = this.$refs['bottom-trap'];\n      var topTrap = this.$refs['top-trap'];\n      if (bottomTrap && target === bottomTrap) {\n        // If user pressed TAB out of modal into our bottom trab trap element\n        // Find the first tabable element in the modal content and focus it\n        if (attemptFocus(tabables[0])) {\n          // Focus was successful\n          return;\n        }\n      } else if (topTrap && target === topTrap) {\n        // If user pressed CTRL-TAB out of modal and into our top tab trap element\n        // Find the last tabable element in the modal content and focus it\n        if (attemptFocus(tabables[tabables.length - 1])) {\n          // Focus was successful\n          return;\n        }\n      } // Otherwise focus the modal content container\n\n      attemptFocus(content, {\n        preventScroll: true\n      });\n    },\n    // Turn on/off focusin listener\n    setEnforceFocus: function setEnforceFocus(on) {\n      this.listenDocument(on, 'focusin', this.focusHandler);\n    },\n    // Resize listener\n    setResizeEvent: function setResizeEvent(on) {\n      this.listenWindow(on, 'resize', this.checkModalOverflow);\n      this.listenWindow(on, 'orientationchange', this.checkModalOverflow);\n    },\n    // Root listener handlers\n    showHandler: function showHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.$_returnFocus = triggerEl || this.getActiveElement();\n        this.show();\n      }\n    },\n    hideHandler: function hideHandler(id) {\n      if (id === this.modalId) {\n        this.hide('event');\n      }\n    },\n    toggleHandler: function toggleHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.toggle(triggerEl);\n      }\n    },\n    modalListener: function modalListener(bvEvent) {\n      // If another modal opens, close this one if stacking not permitted\n      if (this.noStacking && bvEvent.vueTarget !== this) {\n        this.hide();\n      }\n    },\n    // Focus control handlers\n    focusFirst: function focusFirst() {\n      var _this6 = this;\n\n      // Don't try and focus if we are SSR\n      if (IS_BROWSER) {\n        requestAF(function () {\n          var modal = _this6.$refs.modal;\n          var content = _this6.$refs.content;\n          var activeElement = _this6.getActiveElement(); // If the modal contains the activeElement, we don't do anything\n\n          if (modal && content && !(activeElement && contains(content, activeElement))) {\n            var ok = _this6.$refs['ok-button'];\n            var cancel = _this6.$refs['cancel-button'];\n            var close = _this6.$refs['close-button']; // Focus the appropriate button or modal content wrapper\n\n            var autoFocus = _this6.autoFocusButton;\n            /* istanbul ignore next */\n\n            var el = autoFocus === BUTTON_OK && ok ? ok.$el || ok : autoFocus === BUTTON_CANCEL && cancel ? cancel.$el || cancel : autoFocus === BUTTON_CLOSE && close ? close.$el || close : content; // Focus the element\n\n            attemptFocus(el);\n            if (el === content) {\n              // Make sure top of modal is showing (if longer than the viewport)\n              _this6.$nextTick(function () {\n                modal.scrollTop = 0;\n              });\n            }\n          }\n        });\n      }\n    },\n    returnFocusTo: function returnFocusTo() {\n      // Prefer `returnFocus` prop over event specified\n      // `return_focus` value\n      var el = this.returnFocus || this.$_returnFocus || null;\n      this.$_returnFocus = null;\n      this.$nextTick(function () {\n        // Is el a string CSS selector?\n        el = isString(el) ? select(el) : el;\n        if (el) {\n          // Possibly could be a component reference\n          el = el.$el || el;\n          attemptFocus(el);\n        }\n      });\n    },\n    checkModalOverflow: function checkModalOverflow() {\n      if (this.isVisible) {\n        var modal = this.$refs.modal;\n        this.isModalOverflowing = modal.scrollHeight > document.documentElement.clientHeight;\n      }\n    },\n    makeModal: function makeModal(h) {\n      // Modal header\n      var $header = h();\n      if (!this.hideHeader) {\n        // TODO: Rename slot to `header` and deprecate `modal-header`\n        var $modalHeader = this.normalizeSlot(SLOT_NAME_MODAL_HEADER, this.slotScope);\n        if (!$modalHeader) {\n          var $closeButton = h();\n          if (!this.hideHeaderClose) {\n            $closeButton = h(BButtonClose, {\n              props: {\n                content: this.headerCloseContent,\n                disabled: this.isTransitioning,\n                ariaLabel: this.headerCloseLabel,\n                textVariant: this.headerCloseVariant || this.headerTextVariant\n              },\n              on: {\n                click: this.onClose\n              },\n              ref: 'close-button'\n            },\n            // TODO: Rename slot to `header-close` and deprecate `modal-header-close`\n            [this.normalizeSlot(SLOT_NAME_MODAL_HEADER_CLOSE)]);\n          }\n          $modalHeader = [h(this.titleTag, {\n            staticClass: 'modal-title',\n            class: this.titleClasses,\n            attrs: {\n              id: this.modalTitleId\n            },\n            // TODO: Rename slot to `title` and deprecate `modal-title`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) ? {} : htmlOrText(this.titleHtml, this.title)\n          },\n          // TODO: Rename slot to `title` and deprecate `modal-title`\n          this.normalizeSlot(SLOT_NAME_MODAL_TITLE, this.slotScope)), $closeButton];\n        }\n        $header = h('header', {\n          staticClass: 'modal-header',\n          class: this.headerClasses,\n          attrs: {\n            id: this.modalHeaderId\n          },\n          ref: 'header'\n        }, [$modalHeader]);\n      } // Modal body\n\n      var $body = h('div', {\n        staticClass: 'modal-body',\n        class: this.bodyClasses,\n        attrs: {\n          id: this.modalBodyId\n        },\n        ref: 'body'\n      }, this.normalizeSlot(SLOT_NAME_DEFAULT, this.slotScope)); // Modal footer\n\n      var $footer = h();\n      if (!this.hideFooter) {\n        // TODO: Rename slot to `footer` and deprecate `modal-footer`\n        var $modalFooter = this.normalizeSlot(SLOT_NAME_MODAL_FOOTER, this.slotScope);\n        if (!$modalFooter) {\n          var $cancelButton = h();\n          if (!this.okOnly) {\n            $cancelButton = h(BButton, {\n              props: {\n                variant: this.cancelVariant,\n                size: this.buttonSize,\n                disabled: this.cancelDisabled || this.busy || this.isTransitioning\n              },\n              // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n              domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_CANCEL) ? {} : htmlOrText(this.cancelTitleHtml, this.cancelTitle),\n              on: {\n                click: this.onCancel\n              },\n              ref: 'cancel-button'\n            },\n            // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n            this.normalizeSlot(SLOT_NAME_MODAL_CANCEL));\n          }\n          var $okButton = h(BButton, {\n            props: {\n              variant: this.okVariant,\n              size: this.buttonSize,\n              disabled: this.okDisabled || this.busy || this.isTransitioning\n            },\n            // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_OK) ? {} : htmlOrText(this.okTitleHtml, this.okTitle),\n            on: {\n              click: this.onOk\n            },\n            ref: 'ok-button'\n          },\n          // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n          this.normalizeSlot(SLOT_NAME_MODAL_OK));\n          $modalFooter = [$cancelButton, $okButton];\n        }\n        $footer = h('footer', {\n          staticClass: 'modal-footer',\n          class: this.footerClasses,\n          attrs: {\n            id: this.modalFooterId\n          },\n          ref: 'footer'\n        }, [$modalFooter]);\n      } // Assemble modal content\n\n      var $modalContent = h('div', {\n        staticClass: 'modal-content',\n        class: this.contentClass,\n        attrs: {\n          id: this.modalContentId,\n          tabindex: '-1'\n        },\n        ref: 'content'\n      }, [$header, $body, $footer]); // Tab traps to prevent page from scrolling to next element in\n      // tab index during enforce-focus tab cycle\n\n      var $tabTrapTop = h();\n      var $tabTrapBottom = h();\n      if (this.isVisible && !this.noEnforceFocus) {\n        $tabTrapTop = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'top-trap'\n        });\n        $tabTrapBottom = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'bottom-trap'\n        });\n      } // Modal dialog wrapper\n\n      var $modalDialog = h('div', {\n        staticClass: 'modal-dialog',\n        class: this.dialogClasses,\n        on: {\n          mousedown: this.onDialogMousedown\n        },\n        ref: 'dialog'\n      }, [$tabTrapTop, $modalContent, $tabTrapBottom]); // Modal\n\n      var $modal = h('div', {\n        staticClass: 'modal',\n        class: this.modalClasses,\n        style: this.modalStyles,\n        attrs: this.computedModalAttrs,\n        on: {\n          keydown: this.onEsc,\n          click: this.onClickOut\n        },\n        directives: [{\n          name: 'show',\n          value: this.isVisible\n        }],\n        ref: 'modal'\n      }, [$modalDialog]); // Wrap modal in transition\n      // Sadly, we can't use `BVTransition` here due to the differences in\n      // transition durations for `.modal` and `.modal-dialog`\n      // At least until https://github.com/vuejs/vue/issues/9986 is resolved\n\n      $modal = h('transition', {\n        props: {\n          enterClass: '',\n          enterToClass: '',\n          enterActiveClass: '',\n          leaveClass: '',\n          leaveActiveClass: '',\n          leaveToClass: ''\n        },\n        on: {\n          beforeEnter: this.onBeforeEnter,\n          enter: this.onEnter,\n          afterEnter: this.onAfterEnter,\n          beforeLeave: this.onBeforeLeave,\n          leave: this.onLeave,\n          afterLeave: this.onAfterLeave\n        }\n      }, [$modal]); // Modal backdrop\n\n      var $backdrop = h();\n      if (!this.hideBackdrop && this.isVisible) {\n        $backdrop = h('div', {\n          staticClass: 'modal-backdrop',\n          attrs: {\n            id: this.modalBackdropId\n          }\n        },\n        // TODO: Rename slot to `backdrop` and deprecate `modal-backdrop`\n        this.normalizeSlot(SLOT_NAME_MODAL_BACKDROP));\n      }\n      $backdrop = h(BVTransition, {\n        props: {\n          noFade: this.noFade\n        }\n      }, [$backdrop]); // Assemble modal and backdrop in an outer <div>\n\n      return h('div', {\n        style: this.modalOuterStyle,\n        attrs: this.computedAttrs,\n        key: \"modal-outer-\".concat(this[COMPONENT_UID_KEY])\n      }, [$modal, $backdrop]);\n    }\n  },\n  render: function render(h) {\n    if (this.static) {\n      return this.lazy && this.isHidden ? h() : this.makeModal(h);\n    } else {\n      return this.isHidden ? h() : h(BVTransporter, [this.makeModal(h)]);\n    }\n  }\n});","map":{"version":3,"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","COMPONENT_UID_KEY","Vue","NAME_MODAL","IS_BROWSER","EVENT_NAME_CANCEL","EVENT_NAME_CHANGE","EVENT_NAME_CLOSE","EVENT_NAME_HIDDEN","EVENT_NAME_HIDE","EVENT_NAME_OK","EVENT_NAME_SHOW","EVENT_NAME_SHOWN","EVENT_NAME_TOGGLE","EVENT_OPTIONS_NO_CAPTURE","CODE_ESC","PROP_TYPE_ARRAY_OBJECT_STRING","PROP_TYPE_ARRAY_STRING","PROP_TYPE_BOOLEAN","PROP_TYPE_OBJECT","PROP_TYPE_STRING","HTMLElement","SLOT_NAME_DEFAULT","SLOT_NAME_MODAL_BACKDROP","SLOT_NAME_MODAL_CANCEL","SLOT_NAME_MODAL_FOOTER","SLOT_NAME_MODAL_HEADER","SLOT_NAME_MODAL_HEADER_CLOSE","SLOT_NAME_MODAL_OK","SLOT_NAME_MODAL_TITLE","arrayIncludes","concat","attemptFocus","closest","contains","getActiveElement","_getActiveElement","getTabables","requestAF","select","getRootActionEventName","getRootEventName","eventOn","eventOff","htmlOrText","identity","isString","isUndefinedOrNull","makeModelMixin","sortKeys","observeDom","makeProp","makePropsConfigurable","attrsMixin","idMixin","props","idProps","listenOnDocumentMixin","listenOnRootMixin","listenOnWindowMixin","normalizeSlotMixin","scopedStyleMixin","BButton","BButtonClose","BVTransition","BVTransporter","BvModalEvent","modalManager","_makeModelMixin","type","defaultValue","event","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","TRIGGER_BACKDROP","TRIGGER_ESC","TRIGGER_FORCE","TRIGGER_TOGGLE","BUTTON_CANCEL","BUTTON_CLOSE","BUTTON_OK","BUTTONS","OBSERVER_CONFIG","subtree","childList","characterData","attributes","attributeFilter","ariaLabel","autoFocusButton","bodyBgVariant","bodyClass","bodyTextVariant","busy","buttonSize","cancelDisabled","cancelTitle","cancelTitleHtml","cancelVariant","centered","contentClass","dialogClass","footerBgVariant","footerBorderVariant","footerClass","footerTextVariant","headerBgVariant","headerBorderVariant","headerClass","headerCloseContent","headerCloseLabel","headerCloseVariant","headerTextVariant","hideBackdrop","hideFooter","hideHeader","hideHeaderClose","ignoreEnforceFocusSelector","lazy","modalClass","noCloseOnBackdrop","noCloseOnEsc","noEnforceFocus","noFade","noStacking","okDisabled","okOnly","okTitle","okTitleHtml","okVariant","returnFocus","scrollable","size","static","title","titleClass","titleHtml","titleSrOnly","titleTag","BModal","extend","name","mixins","inheritAttrs","data","isHidden","isVisible","isTransitioning","isShow","isBlock","isOpening","isClosing","ignoreBackdropClick","isModalOverflowing","scrollbarWidth","zIndex","getBaseZIndex","isTop","isBodyOverflowing","computed","modalId","safeId","modalOuterId","modalHeaderId","modalBodyId","modalTitleId","modalContentId","modalFooterId","modalBackdropId","modalClasses","fade","show","modalStyles","sbWidth","paddingLeft","paddingRight","display","dialogClasses","_ref","headerClasses","_ref2","titleClasses","bodyClasses","_ref3","footerClasses","_ref4","modalOuterStyle","position","slotScope","cancel","onCancel","close","onClose","hide","ok","onOk","visible","computeIgnoreEnforceFocusSelector","join","trim","computedAttrs","scopedStyleAttrs","bvAttrs","id","computedModalAttrs","role","hasNormalizedSlot","watch","newValue","oldValue","created","$_observer","$_returnFocus","mounted","listenOnRoot","showHandler","hideHandler","toggleHandler","modalListener","$nextTick","beforeDestroy","setObserver","methods","on","undefined","disconnect","$refs","content","checkModalOverflow","bind","updateModel","$emit","buildEvent","options","cancelable","modal","$el","relatedTarget","trigger","vueTarget","componentId","$once","showEvt","emitEvent","defaultPrevented","doShow","hideEvt","toggle","triggerEl","activeElement","document","body","focus","_this","modalsAreOpen","listenOnRootOnce","registerModal","onBeforeEnter","setResizeEvent","onEnter","_this2","onAfterEnter","_this3","setEnforceFocus","focusFirst","onBeforeLeave","onLeave","onAfterLeave","_this4","unregisterModal","returnFocusTo","bvEvent","emitOnRoot","onDialogMousedown","_this5","onceModalMouseup","onClickOut","onEsc","keyCode","focusHandler","tabables","bottomTrap","topTrap","preventScroll","listenDocument","listenWindow","_this6","autoFocus","el","scrollTop","scrollHeight","documentElement","clientHeight","makeModal","h","$header","$modalHeader","normalizeSlot","$closeButton","disabled","textVariant","click","ref","staticClass","class","attrs","domProps","$body","$footer","$modalFooter","$cancelButton","variant","$okButton","$modalContent","tabindex","$tabTrapTop","$tabTrapBottom","$modalDialog","mousedown","$modal","style","keydown","directives","enterClass","enterToClass","enterActiveClass","leaveClass","leaveActiveClass","leaveToClass","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave","$backdrop","render"],"sources":["/mnt/d/D/IIT Madras/SE/Project/code/code/frontend/node_modules/bootstrap-vue/esm/components/modal/modal.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { COMPONENT_UID_KEY, Vue } from '../../vue';\nimport { NAME_MODAL } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CANCEL, EVENT_NAME_CHANGE, EVENT_NAME_CLOSE, EVENT_NAME_HIDDEN, EVENT_NAME_HIDE, EVENT_NAME_OK, EVENT_NAME_SHOW, EVENT_NAME_SHOWN, EVENT_NAME_TOGGLE, EVENT_OPTIONS_NO_CAPTURE } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { HTMLElement } from '../../constants/safe-types';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_MODAL_BACKDROP, SLOT_NAME_MODAL_CANCEL, SLOT_NAME_MODAL_FOOTER, SLOT_NAME_MODAL_HEADER, SLOT_NAME_MODAL_HEADER_CLOSE, SLOT_NAME_MODAL_OK, SLOT_NAME_MODAL_TITLE } from '../../constants/slots';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { attemptFocus, closest, contains, getActiveElement as _getActiveElement, getTabables, requestAF, select } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName, eventOn, eventOff } from '../../utils/events';\nimport { htmlOrText } from '../../utils/html';\nimport { identity } from '../../utils/identity';\nimport { isString, isUndefinedOrNull } from '../../utils/inspect';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { observeDom } from '../../utils/observe-dom';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnDocumentMixin } from '../../mixins/listen-on-document';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenOnWindowMixin } from '../../mixins/listen-on-window';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { scopedStyleMixin } from '../../mixins/scoped-style';\nimport { BButton } from '../button/button';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition';\nimport { BVTransporter } from '../transporter/transporter';\nimport { BvModalEvent } from './helpers/bv-modal-event.class';\nimport { modalManager } from './helpers/modal-manager'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar TRIGGER_BACKDROP = 'backdrop';\nvar TRIGGER_ESC = 'esc';\nvar TRIGGER_FORCE = 'FORCE';\nvar TRIGGER_TOGGLE = 'toggle';\nvar BUTTON_CANCEL = 'cancel'; // TODO: This should be renamed to 'close'\n\nvar BUTTON_CLOSE = 'headerclose';\nvar BUTTON_OK = 'ok';\nvar BUTTONS = [BUTTON_CANCEL, BUTTON_CLOSE, BUTTON_OK]; // `ObserveDom` config to detect changes in modal content\n// so that we can adjust the modal padding if needed\n\nvar OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  attributes: true,\n  attributeFilter: ['style', 'class']\n}; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  autoFocusButton: makeProp(PROP_TYPE_STRING, null,\n  /* istanbul ignore next */\n  function (value) {\n    return isUndefinedOrNull(value) || arrayIncludes(BUTTONS, value);\n  }),\n  bodyBgVariant: makeProp(PROP_TYPE_STRING),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  bodyTextVariant: makeProp(PROP_TYPE_STRING),\n  busy: makeProp(PROP_TYPE_BOOLEAN, false),\n  buttonSize: makeProp(PROP_TYPE_STRING),\n  cancelDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  cancelTitle: makeProp(PROP_TYPE_STRING, 'Cancel'),\n  cancelTitleHtml: makeProp(PROP_TYPE_STRING),\n  cancelVariant: makeProp(PROP_TYPE_STRING, 'secondary'),\n  centered: makeProp(PROP_TYPE_BOOLEAN, false),\n  contentClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  dialogClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerBgVariant: makeProp(PROP_TYPE_STRING),\n  footerBorderVariant: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  footerTextVariant: makeProp(PROP_TYPE_STRING),\n  headerBgVariant: makeProp(PROP_TYPE_STRING),\n  headerBorderVariant: makeProp(PROP_TYPE_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerCloseContent: makeProp(PROP_TYPE_STRING, '&times;'),\n  headerCloseLabel: makeProp(PROP_TYPE_STRING, 'Close'),\n  headerCloseVariant: makeProp(PROP_TYPE_STRING),\n  headerTextVariant: makeProp(PROP_TYPE_STRING),\n  // TODO: Rename to `noBackdrop` and deprecate `hideBackdrop`\n  hideBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noFooter` and deprecate `hideFooter`\n  hideFooter: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeader` and deprecate `hideHeader`\n  hideHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  // TODO: Rename to `noHeaderClose` and deprecate `hideHeaderClose`\n  hideHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  ignoreEnforceFocusSelector: makeProp(PROP_TYPE_ARRAY_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  modalClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  noStacking: makeProp(PROP_TYPE_BOOLEAN, false),\n  okDisabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  okOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  okTitle: makeProp(PROP_TYPE_STRING, 'OK'),\n  okTitleHtml: makeProp(PROP_TYPE_STRING),\n  okVariant: makeProp(PROP_TYPE_STRING, 'primary'),\n  // HTML Element, CSS selector string or Vue component instance\n  returnFocus: makeProp([HTMLElement, PROP_TYPE_OBJECT, PROP_TYPE_STRING]),\n  scrollable: makeProp(PROP_TYPE_BOOLEAN, false),\n  size: makeProp(PROP_TYPE_STRING, 'md'),\n  static: makeProp(PROP_TYPE_BOOLEAN, false),\n  title: makeProp(PROP_TYPE_STRING),\n  titleClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  titleHtml: makeProp(PROP_TYPE_STRING),\n  titleSrOnly: makeProp(PROP_TYPE_BOOLEAN, false),\n  titleTag: makeProp(PROP_TYPE_STRING, 'h5')\n})), NAME_MODAL); // --- Main component ---\n// @vue/component\n\nexport var BModal = /*#__PURE__*/Vue.extend({\n  name: NAME_MODAL,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnDocumentMixin, listenOnRootMixin, listenOnWindowMixin, normalizeSlotMixin, scopedStyleMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      isHidden: true,\n      // If modal should not be in document\n      isVisible: false,\n      // Controls modal visible state\n      isTransitioning: false,\n      // Used for style control\n      isShow: false,\n      // Used for style control\n      isBlock: false,\n      // Used for style control\n      isOpening: false,\n      // To signal that the modal is in the process of opening\n      isClosing: false,\n      // To signal that the modal is in the process of closing\n      ignoreBackdropClick: false,\n      // Used to signify if click out listener should ignore the click\n      isModalOverflowing: false,\n      // The following items are controlled by the modalManager instance\n      scrollbarWidth: 0,\n      zIndex: modalManager.getBaseZIndex(),\n      isTop: true,\n      isBodyOverflowing: false\n    };\n  },\n  computed: {\n    modalId: function modalId() {\n      return this.safeId();\n    },\n    modalOuterId: function modalOuterId() {\n      return this.safeId('__BV_modal_outer_');\n    },\n    modalHeaderId: function modalHeaderId() {\n      return this.safeId('__BV_modal_header_');\n    },\n    modalBodyId: function modalBodyId() {\n      return this.safeId('__BV_modal_body_');\n    },\n    modalTitleId: function modalTitleId() {\n      return this.safeId('__BV_modal_title_');\n    },\n    modalContentId: function modalContentId() {\n      return this.safeId('__BV_modal_content_');\n    },\n    modalFooterId: function modalFooterId() {\n      return this.safeId('__BV_modal_footer_');\n    },\n    modalBackdropId: function modalBackdropId() {\n      return this.safeId('__BV_modal_backdrop_');\n    },\n    modalClasses: function modalClasses() {\n      return [{\n        fade: !this.noFade,\n        show: this.isShow\n      }, this.modalClass];\n    },\n    modalStyles: function modalStyles() {\n      var sbWidth = \"\".concat(this.scrollbarWidth, \"px\");\n      return {\n        paddingLeft: !this.isBodyOverflowing && this.isModalOverflowing ? sbWidth : '',\n        paddingRight: this.isBodyOverflowing && !this.isModalOverflowing ? sbWidth : '',\n        // Needed to fix issue https://github.com/bootstrap-vue/bootstrap-vue/issues/3457\n        // Even though we are using v-show, we must ensure 'none' is restored in the styles\n        display: this.isBlock ? 'block' : 'none'\n      };\n    },\n    dialogClasses: function dialogClasses() {\n      var _ref;\n\n      return [(_ref = {}, _defineProperty(_ref, \"modal-\".concat(this.size), this.size), _defineProperty(_ref, 'modal-dialog-centered', this.centered), _defineProperty(_ref, 'modal-dialog-scrollable', this.scrollable), _ref), this.dialogClass];\n    },\n    headerClasses: function headerClasses() {\n      var _ref2;\n\n      return [(_ref2 = {}, _defineProperty(_ref2, \"bg-\".concat(this.headerBgVariant), this.headerBgVariant), _defineProperty(_ref2, \"text-\".concat(this.headerTextVariant), this.headerTextVariant), _defineProperty(_ref2, \"border-\".concat(this.headerBorderVariant), this.headerBorderVariant), _ref2), this.headerClass];\n    },\n    titleClasses: function titleClasses() {\n      return [{\n        'sr-only': this.titleSrOnly\n      }, this.titleClass];\n    },\n    bodyClasses: function bodyClasses() {\n      var _ref3;\n\n      return [(_ref3 = {}, _defineProperty(_ref3, \"bg-\".concat(this.bodyBgVariant), this.bodyBgVariant), _defineProperty(_ref3, \"text-\".concat(this.bodyTextVariant), this.bodyTextVariant), _ref3), this.bodyClass];\n    },\n    footerClasses: function footerClasses() {\n      var _ref4;\n\n      return [(_ref4 = {}, _defineProperty(_ref4, \"bg-\".concat(this.footerBgVariant), this.footerBgVariant), _defineProperty(_ref4, \"text-\".concat(this.footerTextVariant), this.footerTextVariant), _defineProperty(_ref4, \"border-\".concat(this.footerBorderVariant), this.footerBorderVariant), _ref4), this.footerClass];\n    },\n    modalOuterStyle: function modalOuterStyle() {\n      // Styles needed for proper stacking of modals\n      return {\n        position: 'absolute',\n        zIndex: this.zIndex\n      };\n    },\n    slotScope: function slotScope() {\n      return {\n        cancel: this.onCancel,\n        close: this.onClose,\n        hide: this.hide,\n        ok: this.onOk,\n        visible: this.isVisible\n      };\n    },\n    computeIgnoreEnforceFocusSelector: function computeIgnoreEnforceFocusSelector() {\n      // Normalize to an single selector with selectors separated by `,`\n      return concat(this.ignoreEnforceFocusSelector).filter(identity).join(',').trim();\n    },\n    computedAttrs: function computedAttrs() {\n      // If the parent has a scoped style attribute, and the modal\n      // is portalled, add the scoped attribute to the modal wrapper\n      var scopedStyleAttrs = !this.static ? this.scopedStyleAttrs : {};\n      return _objectSpread(_objectSpread(_objectSpread({}, scopedStyleAttrs), this.bvAttrs), {}, {\n        id: this.modalOuterId\n      });\n    },\n    computedModalAttrs: function computedModalAttrs() {\n      var isVisible = this.isVisible,\n          ariaLabel = this.ariaLabel;\n      return {\n        id: this.modalId,\n        role: 'dialog',\n        'aria-hidden': isVisible ? null : 'true',\n        'aria-modal': isVisible ? 'true' : null,\n        'aria-label': ariaLabel,\n        'aria-labelledby': this.hideHeader || ariaLabel || // TODO: Rename slot to `title` and deprecate `modal-title`\n        !(this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) || this.titleHtml || this.title) ? null : this.modalTitleId,\n        'aria-describedby': this.modalBodyId\n      };\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this[newValue ? 'show' : 'hide']();\n    }\n  }),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_observer = null;\n    this.$_returnFocus = this.returnFocus || null;\n  },\n  mounted: function mounted() {\n    // Set initial z-index as queried from the DOM\n    this.zIndex = modalManager.getBaseZIndex(); // Listen for events from others to either open or close ourselves\n    // and listen to all modals to enable/disable enforce focus\n\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_SHOW), this.showHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_HIDE), this.hideHandler);\n    this.listenOnRoot(getRootActionEventName(NAME_MODAL, EVENT_NAME_TOGGLE), this.toggleHandler); // Listen for `bv:modal::show events`, and close ourselves if the\n    // opening modal not us\n\n    this.listenOnRoot(getRootEventName(NAME_MODAL, EVENT_NAME_SHOW), this.modalListener); // Initially show modal?\n\n    if (this[MODEL_PROP_NAME] === true) {\n      this.$nextTick(this.show);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Ensure everything is back to normal\n    this.setObserver(false);\n\n    if (this.isVisible) {\n      this.isVisible = false;\n      this.isShow = false;\n      this.isTransitioning = false;\n    }\n  },\n  methods: {\n    setObserver: function setObserver() {\n      var on = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.$_observer && this.$_observer.disconnect();\n      this.$_observer = null;\n\n      if (on) {\n        this.$_observer = observeDom(this.$refs.content, this.checkModalOverflow.bind(this), OBSERVER_CONFIG);\n      }\n    },\n    // Private method to update the v-model\n    updateModel: function updateModel(value) {\n      if (value !== this[MODEL_PROP_NAME]) {\n        this.$emit(MODEL_EVENT_NAME, value);\n      }\n    },\n    // Private method to create a BvModalEvent object\n    buildEvent: function buildEvent(type) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new BvModalEvent(type, _objectSpread(_objectSpread({\n        // Default options\n        cancelable: false,\n        target: this.$refs.modal || this.$el || null,\n        relatedTarget: null,\n        trigger: null\n      }, options), {}, {\n        // Options that can't be overridden\n        vueTarget: this,\n        componentId: this.modalId\n      }));\n    },\n    // Public method to show modal\n    show: function show() {\n      if (this.isVisible || this.isOpening) {\n        // If already open, or in the process of opening, do nothing\n\n        /* istanbul ignore next */\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.isClosing) {\n        // If we are in the process of closing, wait until hidden before re-opening\n\n        /* istanbul ignore next */\n        this.$once(EVENT_NAME_HIDDEN, this.show);\n        /* istanbul ignore next */\n\n        return;\n      }\n\n      this.isOpening = true; // Set the element to return focus to when closed\n\n      this.$_returnFocus = this.$_returnFocus || this.getActiveElement();\n      var showEvt = this.buildEvent(EVENT_NAME_SHOW, {\n        cancelable: true\n      });\n      this.emitEvent(showEvt); // Don't show if canceled\n\n      if (showEvt.defaultPrevented || this.isVisible) {\n        this.isOpening = false; // Ensure the v-model reflects the current state\n\n        this.updateModel(false);\n        return;\n      } // Show the modal\n\n\n      this.doShow();\n    },\n    // Public method to hide modal\n    hide: function hide() {\n      var trigger = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      if (!this.isVisible || this.isClosing) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      this.isClosing = true;\n      var hideEvt = this.buildEvent(EVENT_NAME_HIDE, {\n        cancelable: trigger !== TRIGGER_FORCE,\n        trigger: trigger || null\n      }); // We emit specific event for one of the three built-in buttons\n\n      if (trigger === BUTTON_OK) {\n        this.$emit(EVENT_NAME_OK, hideEvt);\n      } else if (trigger === BUTTON_CANCEL) {\n        this.$emit(EVENT_NAME_CANCEL, hideEvt);\n      } else if (trigger === BUTTON_CLOSE) {\n        this.$emit(EVENT_NAME_CLOSE, hideEvt);\n      }\n\n      this.emitEvent(hideEvt); // Hide if not canceled\n\n      if (hideEvt.defaultPrevented || !this.isVisible) {\n        this.isClosing = false; // Ensure v-model reflects current state\n\n        this.updateModel(true);\n        return;\n      } // Stop observing for content changes\n\n\n      this.setObserver(false); // Trigger the hide transition\n\n      this.isVisible = false; // Update the v-model\n\n      this.updateModel(false);\n    },\n    // Public method to toggle modal visibility\n    toggle: function toggle(triggerEl) {\n      if (triggerEl) {\n        this.$_returnFocus = triggerEl;\n      }\n\n      if (this.isVisible) {\n        this.hide(TRIGGER_TOGGLE);\n      } else {\n        this.show();\n      }\n    },\n    // Private method to get the current document active element\n    getActiveElement: function getActiveElement() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      var activeElement = _getActiveElement(IS_BROWSER ? [document.body] : []); // Preset the fallback return focus value if it is not set\n      // `document.activeElement` should be the trigger element that was clicked or\n      // in the case of using the v-model, which ever element has current focus\n      // Will be overridden by some commands such as toggle, etc.\n      // Note: On IE 11, `document.activeElement` may be `null`\n      // So we test it for truthiness first\n      // https://github.com/bootstrap-vue/bootstrap-vue/issues/3206\n\n\n      return activeElement && activeElement.focus ? activeElement : null;\n    },\n    // Private method to finish showing modal\n    doShow: function doShow() {\n      var _this = this;\n\n      /* istanbul ignore next: commenting out for now until we can test stacking */\n      if (modalManager.modalsAreOpen && this.noStacking) {\n        // If another modal(s) is already open, wait for it(them) to close\n        this.listenOnRootOnce(getRootEventName(NAME_MODAL, EVENT_NAME_HIDDEN), this.doShow);\n        return;\n      }\n\n      modalManager.registerModal(this); // Place modal in DOM\n\n      this.isHidden = false;\n      this.$nextTick(function () {\n        // We do this in `$nextTick()` to ensure the modal is in DOM first\n        // before we show it\n        _this.isVisible = true;\n        _this.isOpening = false; // Update the v-model\n\n        _this.updateModel(true);\n\n        _this.$nextTick(function () {\n          // Observe changes in modal content and adjust if necessary\n          // In a `$nextTick()` in case modal content is lazy\n          _this.setObserver(true);\n        });\n      });\n    },\n    // Transition handlers\n    onBeforeEnter: function onBeforeEnter() {\n      this.isTransitioning = true;\n      this.setResizeEvent(true);\n    },\n    onEnter: function onEnter() {\n      var _this2 = this;\n\n      this.isBlock = true; // We add the `show` class 1 frame later\n      // `requestAF()` runs the callback before the next repaint, so we need\n      // two calls to guarantee the next frame has been rendered\n\n      requestAF(function () {\n        requestAF(function () {\n          _this2.isShow = true;\n        });\n      });\n    },\n    onAfterEnter: function onAfterEnter() {\n      var _this3 = this;\n\n      this.checkModalOverflow();\n      this.isTransitioning = false; // We use `requestAF()` to allow transition hooks to complete\n      // before passing control over to the other handlers\n      // This will allow users to not have to use `$nextTick()` or `requestAF()`\n      // when trying to pre-focus an element\n\n      requestAF(function () {\n        _this3.emitEvent(_this3.buildEvent(EVENT_NAME_SHOWN));\n\n        _this3.setEnforceFocus(true);\n\n        _this3.$nextTick(function () {\n          // Delayed in a `$nextTick()` to allow users time to pre-focus\n          // an element if the wish\n          _this3.focusFirst();\n        });\n      });\n    },\n    onBeforeLeave: function onBeforeLeave() {\n      this.isTransitioning = true;\n      this.setResizeEvent(false);\n      this.setEnforceFocus(false);\n    },\n    onLeave: function onLeave() {\n      // Remove the 'show' class\n      this.isShow = false;\n    },\n    onAfterLeave: function onAfterLeave() {\n      var _this4 = this;\n\n      this.isBlock = false;\n      this.isTransitioning = false;\n      this.isModalOverflowing = false;\n      this.isHidden = true;\n      this.$nextTick(function () {\n        _this4.isClosing = false;\n        modalManager.unregisterModal(_this4);\n\n        _this4.returnFocusTo(); // TODO: Need to find a way to pass the `trigger` property\n        //       to the `hidden` event, not just only the `hide` event\n\n\n        _this4.emitEvent(_this4.buildEvent(EVENT_NAME_HIDDEN));\n      });\n    },\n    emitEvent: function emitEvent(bvEvent) {\n      var type = bvEvent.type; // We emit on `$root` first in case a global listener wants to cancel\n      // the event first before the instance emits its event\n\n      this.emitOnRoot(getRootEventName(NAME_MODAL, type), bvEvent, bvEvent.componentId);\n      this.$emit(type, bvEvent);\n    },\n    // UI event handlers\n    onDialogMousedown: function onDialogMousedown() {\n      var _this5 = this;\n\n      // Watch to see if the matching mouseup event occurs outside the dialog\n      // And if it does, cancel the clickOut handler\n      var modal = this.$refs.modal;\n\n      var onceModalMouseup = function onceModalMouseup(event) {\n        eventOff(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n\n        if (event.target === modal) {\n          _this5.ignoreBackdropClick = true;\n        }\n      };\n\n      eventOn(modal, 'mouseup', onceModalMouseup, EVENT_OPTIONS_NO_CAPTURE);\n    },\n    onClickOut: function onClickOut(event) {\n      if (this.ignoreBackdropClick) {\n        // Click was initiated inside the modal content, but finished outside.\n        // Set by the above onDialogMousedown handler\n        this.ignoreBackdropClick = false;\n        return;\n      } // Do nothing if not visible, backdrop click disabled, or element\n      // that generated click event is no longer in document body\n\n\n      if (!this.isVisible || this.noCloseOnBackdrop || !contains(document.body, event.target)) {\n        return;\n      } // If backdrop clicked, hide modal\n\n\n      if (!contains(this.$refs.content, event.target)) {\n        this.hide(TRIGGER_BACKDROP);\n      }\n    },\n    onOk: function onOk() {\n      this.hide(BUTTON_OK);\n    },\n    onCancel: function onCancel() {\n      this.hide(BUTTON_CANCEL);\n    },\n    onClose: function onClose() {\n      this.hide(BUTTON_CLOSE);\n    },\n    onEsc: function onEsc(event) {\n      // If ESC pressed, hide modal\n      if (event.keyCode === CODE_ESC && this.isVisible && !this.noCloseOnEsc) {\n        this.hide(TRIGGER_ESC);\n      }\n    },\n    // Document focusin listener\n    focusHandler: function focusHandler(event) {\n      // If focus leaves modal content, bring it back\n      var content = this.$refs.content;\n      var target = event.target;\n\n      if (this.noEnforceFocus || !this.isTop || !this.isVisible || !content || document === target || contains(content, target) || this.computeIgnoreEnforceFocusSelector && closest(this.computeIgnoreEnforceFocusSelector, target, true)) {\n        return;\n      }\n\n      var tabables = getTabables(this.$refs.content);\n      var bottomTrap = this.$refs['bottom-trap'];\n      var topTrap = this.$refs['top-trap'];\n\n      if (bottomTrap && target === bottomTrap) {\n        // If user pressed TAB out of modal into our bottom trab trap element\n        // Find the first tabable element in the modal content and focus it\n        if (attemptFocus(tabables[0])) {\n          // Focus was successful\n          return;\n        }\n      } else if (topTrap && target === topTrap) {\n        // If user pressed CTRL-TAB out of modal and into our top tab trap element\n        // Find the last tabable element in the modal content and focus it\n        if (attemptFocus(tabables[tabables.length - 1])) {\n          // Focus was successful\n          return;\n        }\n      } // Otherwise focus the modal content container\n\n\n      attemptFocus(content, {\n        preventScroll: true\n      });\n    },\n    // Turn on/off focusin listener\n    setEnforceFocus: function setEnforceFocus(on) {\n      this.listenDocument(on, 'focusin', this.focusHandler);\n    },\n    // Resize listener\n    setResizeEvent: function setResizeEvent(on) {\n      this.listenWindow(on, 'resize', this.checkModalOverflow);\n      this.listenWindow(on, 'orientationchange', this.checkModalOverflow);\n    },\n    // Root listener handlers\n    showHandler: function showHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.$_returnFocus = triggerEl || this.getActiveElement();\n        this.show();\n      }\n    },\n    hideHandler: function hideHandler(id) {\n      if (id === this.modalId) {\n        this.hide('event');\n      }\n    },\n    toggleHandler: function toggleHandler(id, triggerEl) {\n      if (id === this.modalId) {\n        this.toggle(triggerEl);\n      }\n    },\n    modalListener: function modalListener(bvEvent) {\n      // If another modal opens, close this one if stacking not permitted\n      if (this.noStacking && bvEvent.vueTarget !== this) {\n        this.hide();\n      }\n    },\n    // Focus control handlers\n    focusFirst: function focusFirst() {\n      var _this6 = this;\n\n      // Don't try and focus if we are SSR\n      if (IS_BROWSER) {\n        requestAF(function () {\n          var modal = _this6.$refs.modal;\n          var content = _this6.$refs.content;\n\n          var activeElement = _this6.getActiveElement(); // If the modal contains the activeElement, we don't do anything\n\n\n          if (modal && content && !(activeElement && contains(content, activeElement))) {\n            var ok = _this6.$refs['ok-button'];\n            var cancel = _this6.$refs['cancel-button'];\n            var close = _this6.$refs['close-button']; // Focus the appropriate button or modal content wrapper\n\n            var autoFocus = _this6.autoFocusButton;\n            /* istanbul ignore next */\n\n            var el = autoFocus === BUTTON_OK && ok ? ok.$el || ok : autoFocus === BUTTON_CANCEL && cancel ? cancel.$el || cancel : autoFocus === BUTTON_CLOSE && close ? close.$el || close : content; // Focus the element\n\n            attemptFocus(el);\n\n            if (el === content) {\n              // Make sure top of modal is showing (if longer than the viewport)\n              _this6.$nextTick(function () {\n                modal.scrollTop = 0;\n              });\n            }\n          }\n        });\n      }\n    },\n    returnFocusTo: function returnFocusTo() {\n      // Prefer `returnFocus` prop over event specified\n      // `return_focus` value\n      var el = this.returnFocus || this.$_returnFocus || null;\n      this.$_returnFocus = null;\n      this.$nextTick(function () {\n        // Is el a string CSS selector?\n        el = isString(el) ? select(el) : el;\n\n        if (el) {\n          // Possibly could be a component reference\n          el = el.$el || el;\n          attemptFocus(el);\n        }\n      });\n    },\n    checkModalOverflow: function checkModalOverflow() {\n      if (this.isVisible) {\n        var modal = this.$refs.modal;\n        this.isModalOverflowing = modal.scrollHeight > document.documentElement.clientHeight;\n      }\n    },\n    makeModal: function makeModal(h) {\n      // Modal header\n      var $header = h();\n\n      if (!this.hideHeader) {\n        // TODO: Rename slot to `header` and deprecate `modal-header`\n        var $modalHeader = this.normalizeSlot(SLOT_NAME_MODAL_HEADER, this.slotScope);\n\n        if (!$modalHeader) {\n          var $closeButton = h();\n\n          if (!this.hideHeaderClose) {\n            $closeButton = h(BButtonClose, {\n              props: {\n                content: this.headerCloseContent,\n                disabled: this.isTransitioning,\n                ariaLabel: this.headerCloseLabel,\n                textVariant: this.headerCloseVariant || this.headerTextVariant\n              },\n              on: {\n                click: this.onClose\n              },\n              ref: 'close-button'\n            }, // TODO: Rename slot to `header-close` and deprecate `modal-header-close`\n            [this.normalizeSlot(SLOT_NAME_MODAL_HEADER_CLOSE)]);\n          }\n\n          $modalHeader = [h(this.titleTag, {\n            staticClass: 'modal-title',\n            class: this.titleClasses,\n            attrs: {\n              id: this.modalTitleId\n            },\n            // TODO: Rename slot to `title` and deprecate `modal-title`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_TITLE) ? {} : htmlOrText(this.titleHtml, this.title)\n          }, // TODO: Rename slot to `title` and deprecate `modal-title`\n          this.normalizeSlot(SLOT_NAME_MODAL_TITLE, this.slotScope)), $closeButton];\n        }\n\n        $header = h('header', {\n          staticClass: 'modal-header',\n          class: this.headerClasses,\n          attrs: {\n            id: this.modalHeaderId\n          },\n          ref: 'header'\n        }, [$modalHeader]);\n      } // Modal body\n\n\n      var $body = h('div', {\n        staticClass: 'modal-body',\n        class: this.bodyClasses,\n        attrs: {\n          id: this.modalBodyId\n        },\n        ref: 'body'\n      }, this.normalizeSlot(SLOT_NAME_DEFAULT, this.slotScope)); // Modal footer\n\n      var $footer = h();\n\n      if (!this.hideFooter) {\n        // TODO: Rename slot to `footer` and deprecate `modal-footer`\n        var $modalFooter = this.normalizeSlot(SLOT_NAME_MODAL_FOOTER, this.slotScope);\n\n        if (!$modalFooter) {\n          var $cancelButton = h();\n\n          if (!this.okOnly) {\n            $cancelButton = h(BButton, {\n              props: {\n                variant: this.cancelVariant,\n                size: this.buttonSize,\n                disabled: this.cancelDisabled || this.busy || this.isTransitioning\n              },\n              // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n              domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_CANCEL) ? {} : htmlOrText(this.cancelTitleHtml, this.cancelTitle),\n              on: {\n                click: this.onCancel\n              },\n              ref: 'cancel-button'\n            }, // TODO: Rename slot to `cancel-button` and deprecate `modal-cancel`\n            this.normalizeSlot(SLOT_NAME_MODAL_CANCEL));\n          }\n\n          var $okButton = h(BButton, {\n            props: {\n              variant: this.okVariant,\n              size: this.buttonSize,\n              disabled: this.okDisabled || this.busy || this.isTransitioning\n            },\n            // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n            domProps: this.hasNormalizedSlot(SLOT_NAME_MODAL_OK) ? {} : htmlOrText(this.okTitleHtml, this.okTitle),\n            on: {\n              click: this.onOk\n            },\n            ref: 'ok-button'\n          }, // TODO: Rename slot to `ok-button` and deprecate `modal-ok`\n          this.normalizeSlot(SLOT_NAME_MODAL_OK));\n          $modalFooter = [$cancelButton, $okButton];\n        }\n\n        $footer = h('footer', {\n          staticClass: 'modal-footer',\n          class: this.footerClasses,\n          attrs: {\n            id: this.modalFooterId\n          },\n          ref: 'footer'\n        }, [$modalFooter]);\n      } // Assemble modal content\n\n\n      var $modalContent = h('div', {\n        staticClass: 'modal-content',\n        class: this.contentClass,\n        attrs: {\n          id: this.modalContentId,\n          tabindex: '-1'\n        },\n        ref: 'content'\n      }, [$header, $body, $footer]); // Tab traps to prevent page from scrolling to next element in\n      // tab index during enforce-focus tab cycle\n\n      var $tabTrapTop = h();\n      var $tabTrapBottom = h();\n\n      if (this.isVisible && !this.noEnforceFocus) {\n        $tabTrapTop = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'top-trap'\n        });\n        $tabTrapBottom = h('span', {\n          attrs: {\n            tabindex: '0'\n          },\n          ref: 'bottom-trap'\n        });\n      } // Modal dialog wrapper\n\n\n      var $modalDialog = h('div', {\n        staticClass: 'modal-dialog',\n        class: this.dialogClasses,\n        on: {\n          mousedown: this.onDialogMousedown\n        },\n        ref: 'dialog'\n      }, [$tabTrapTop, $modalContent, $tabTrapBottom]); // Modal\n\n      var $modal = h('div', {\n        staticClass: 'modal',\n        class: this.modalClasses,\n        style: this.modalStyles,\n        attrs: this.computedModalAttrs,\n        on: {\n          keydown: this.onEsc,\n          click: this.onClickOut\n        },\n        directives: [{\n          name: 'show',\n          value: this.isVisible\n        }],\n        ref: 'modal'\n      }, [$modalDialog]); // Wrap modal in transition\n      // Sadly, we can't use `BVTransition` here due to the differences in\n      // transition durations for `.modal` and `.modal-dialog`\n      // At least until https://github.com/vuejs/vue/issues/9986 is resolved\n\n      $modal = h('transition', {\n        props: {\n          enterClass: '',\n          enterToClass: '',\n          enterActiveClass: '',\n          leaveClass: '',\n          leaveActiveClass: '',\n          leaveToClass: ''\n        },\n        on: {\n          beforeEnter: this.onBeforeEnter,\n          enter: this.onEnter,\n          afterEnter: this.onAfterEnter,\n          beforeLeave: this.onBeforeLeave,\n          leave: this.onLeave,\n          afterLeave: this.onAfterLeave\n        }\n      }, [$modal]); // Modal backdrop\n\n      var $backdrop = h();\n\n      if (!this.hideBackdrop && this.isVisible) {\n        $backdrop = h('div', {\n          staticClass: 'modal-backdrop',\n          attrs: {\n            id: this.modalBackdropId\n          }\n        }, // TODO: Rename slot to `backdrop` and deprecate `modal-backdrop`\n        this.normalizeSlot(SLOT_NAME_MODAL_BACKDROP));\n      }\n\n      $backdrop = h(BVTransition, {\n        props: {\n          noFade: this.noFade\n        }\n      }, [$backdrop]); // Assemble modal and backdrop in an outer <div>\n\n      return h('div', {\n        style: this.modalOuterStyle,\n        attrs: this.computedAttrs,\n        key: \"modal-outer-\".concat(this[COMPONENT_UID_KEY])\n      }, [$modal, $backdrop]);\n    }\n  },\n  render: function render(h) {\n    if (this.static) {\n      return this.lazy && this.isHidden ? h() : this.makeModal(h);\n    } else {\n      return this.isHidden ? h() : h(BVTransporter, [this.makeModal(h)]);\n    }\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}