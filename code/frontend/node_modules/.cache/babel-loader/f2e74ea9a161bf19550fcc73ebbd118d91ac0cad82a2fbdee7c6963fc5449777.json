{"ast":null,"code":"import UserNavbar from \"../components/UserNavbar.vue\";\nimport * as common from \"../assets/common.js\";\nimport InfoCard from \"../components/InfoCard.vue\";\nexport default {\n  name: \"AdminHome\",\n  components: {\n    UserNavbar,\n    InfoCard\n  },\n  data() {\n    return {\n      user_id: this.$store.getters.get_user_id,\n      n_total_unresolved_tickets: 0,\n      n_total_resolved_tickets: 0,\n      n_tickets_today: 0,\n      n_tickets_week: 0,\n      n_tickets_month: 0,\n      n_student: 0,\n      n_support: 0,\n      n_admin: 0,\n      n_student_new: 0,\n      n_support_new: 0,\n      n_user_new: 0\n    };\n  },\n  created() {\n    let form = {\n      filter_status: [\"pending\"]\n    };\n    let params = \"\";\n    params = new URLSearchParams(form).toString();\n    fetch(common.ADMIN_API + `/${this.user_id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        web_token: this.$store.getters.get_web_token,\n        user_id: this.user_id\n      }\n    }).then(response => response.json()).then(data => {\n      if (data.category == \"success\") {\n        this.flashMessage.success({\n          message: \"User data retrieved.\"\n        });\n        this.n_total_unresolved_tickets = data.message.n_total_unresolved_tickets;\n        this.n_total_resolved_tickets = data.message.n_total_resolved_tickets;\n        this.n_tickets_today = data.message.n_tickets_today;\n        this.n_tickets_week = data.message.n_tickets_week;\n        this.n_tickets_month = data.message.n_tickets_month;\n        this.n_student = data.message.n_student;\n        this.n_support = data.message.n_support;\n        this.n_admin = data.message.n_admin;\n        this.n_student_new = data.message.n_student_new;\n        this.n_support_new = data.message.n_support_new;\n      }\n      if (data.category == \"error\") {\n        this.flashMessage.error({\n          message: data.message\n        });\n      }\n    }).catch(error => {\n      this.$log.error(`Error : ${error}`);\n      this.flashMessage.error({\n        message: \"Internal Server Error\"\n      });\n    });\n    this.n_user_new = this.n_student_new + this.n_support_new;\n  },\n  mounted() {},\n  methods: {\n    new_registered_users: function () {\n      this.n_user_new = this.n_student_new + this.n_support_new;\n      return this.n_user_new;\n    }\n  },\n  computed: {}\n};","map":{"version":3,"names":["UserNavbar","common","InfoCard","name","components","data","user_id","$store","getters","get_user_id","n_total_unresolved_tickets","n_total_resolved_tickets","n_tickets_today","n_tickets_week","n_tickets_month","n_student","n_support","n_admin","n_student_new","n_support_new","n_user_new","created","form","filter_status","params","URLSearchParams","toString","fetch","ADMIN_API","method","headers","web_token","get_web_token","then","response","json","category","flashMessage","success","message","error","catch","$log","mounted","methods","new_registered_users","computed"],"sources":["src/views/AdminHome.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <UserNavbar :id_=\"1\"></UserNavbar>\r\n    <b-container fluid=\"xl\">\r\n      <b-row class=\"text-start\">\r\n        <b-col cols=\"12\" sm=\"5\" md=\"4\">\r\n          <InfoCard\r\n            title=\"New User Registered\"\r\n            :value=\"new_registered_users().toString()\"\r\n          ></InfoCard>\r\n          <InfoCard\r\n            title=\"Total Open Tickets\"\r\n            :value=\"n_total_unresolved_tickets.toString()\"\r\n          ></InfoCard>\r\n          <InfoCard\r\n            title=\"Total Resolved Tickets\"\r\n            :value=\"n_total_resolved_tickets.toString()\"\r\n          ></InfoCard>\r\n        </b-col>\r\n        <b-col cols=\"12\" sm=\"5\" md=\"4\">\r\n          <InfoCard title=\"New Tickets Raised Today\" :value=\"n_tickets_today.toString()\"></InfoCard>\r\n          <InfoCard\r\n            title=\"New Tickets Raised This Week\"\r\n            :value=\"n_tickets_week.toString()\"\r\n          ></InfoCard>\r\n          <InfoCard\r\n            title=\"New Tickets Raised This Month\"\r\n            :value=\"n_tickets_month.toString()\"\r\n          ></InfoCard>\r\n        </b-col>\r\n        <b-col cols=\"12\" sm=\"5\" md=\"4\">\r\n          <InfoCard title=\"Total Student\" :value=\"n_student.toString()\"></InfoCard>\r\n          <InfoCard title=\"Total Support Staff\" :value=\"n_support.toString()\"></InfoCard>\r\n          <InfoCard title=\"Total Admin\" :value=\"n_admin.toString()\"></InfoCard>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n\r\n    <br />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserNavbar from \"../components/UserNavbar.vue\";\r\nimport * as common from \"../assets/common.js\";\r\nimport InfoCard from \"../components/InfoCard.vue\";\r\n\r\nexport default {\r\n  name: \"AdminHome\",\r\n  components: { UserNavbar, InfoCard },\r\n  data() {\r\n    return {\r\n      user_id: this.$store.getters.get_user_id,\r\n      n_total_unresolved_tickets: 0,\r\n      n_total_resolved_tickets: 0,\r\n      n_tickets_today: 0,\r\n      n_tickets_week: 0,\r\n      n_tickets_month: 0,\r\n      n_student: 0,\r\n      n_support: 0,\r\n      n_admin: 0,\r\n      n_student_new: 0,\r\n      n_support_new: 0,\r\n      n_user_new: 0,\r\n    };\r\n  },\r\n  created() {\r\n    let form = {\r\n      filter_status: [\"pending\"],\r\n    };\r\n    let params = \"\";\r\n    params = new URLSearchParams(form).toString();\r\n\r\n    fetch(common.ADMIN_API + `/${this.user_id}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        web_token: this.$store.getters.get_web_token,\r\n        user_id: this.user_id,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.category == \"success\") {\r\n          this.flashMessage.success({\r\n            message: \"User data retrieved.\",\r\n          });\r\n          this.n_total_unresolved_tickets = data.message.n_total_unresolved_tickets;\r\n          this.n_total_resolved_tickets = data.message.n_total_resolved_tickets;\r\n          this.n_tickets_today = data.message.n_tickets_today;\r\n          this.n_tickets_week = data.message.n_tickets_week;\r\n          this.n_tickets_month = data.message.n_tickets_month;\r\n          this.n_student = data.message.n_student;\r\n          this.n_support = data.message.n_support;\r\n          this.n_admin = data.message.n_admin;\r\n          this.n_student_new = data.message.n_student_new;\r\n          this.n_support_new = data.message.n_support_new;\r\n        }\r\n        if (data.category == \"error\") {\r\n          this.flashMessage.error({\r\n            message: data.message,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.$log.error(`Error : ${error}`);\r\n        this.flashMessage.error({\r\n          message: \"Internal Server Error\",\r\n        });\r\n      });\r\n\r\n    this.n_user_new = this.n_student_new + this.n_support_new;\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    new_registered_users: function () {\r\n      this.n_user_new = this.n_student_new + this.n_support_new;\r\n      return this.n_user_new;\r\n    },\r\n  },\r\n  computed: {},\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"mappings":"AA2CA,OAAAA,UAAA;AACA,YAAAC,MAAA;AACA,OAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAJ,UAAA;IAAAE;EAAA;EACAG,KAAA;IACA;MACAC,OAAA,OAAAC,MAAA,CAAAC,OAAA,CAAAC,WAAA;MACAC,0BAAA;MACAC,wBAAA;MACAC,eAAA;MACAC,cAAA;MACAC,eAAA;MACAC,SAAA;MACAC,SAAA;MACAC,OAAA;MACAC,aAAA;MACAC,aAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,IAAA;MACAC,aAAA;IACA;IACA,IAAAC,MAAA;IACAA,MAAA,OAAAC,eAAA,CAAAH,IAAA,EAAAI,QAAA;IAEAC,KAAA,CAAA1B,MAAA,CAAA2B,SAAA,YAAAtB,OAAA;MACAuB,MAAA;MACAC,OAAA;QACA;QACAC,SAAA,OAAAxB,MAAA,CAAAC,OAAA,CAAAwB,aAAA;QACA1B,OAAA,OAAAA;MACA;IACA,GACA2B,IAAA,CAAAC,QAAA,IAAAA,QAAA,CAAAC,IAAA,IACAF,IAAA,CAAA5B,IAAA;MACA,IAAAA,IAAA,CAAA+B,QAAA;QACA,KAAAC,YAAA,CAAAC,OAAA;UACAC,OAAA;QACA;QACA,KAAA7B,0BAAA,GAAAL,IAAA,CAAAkC,OAAA,CAAA7B,0BAAA;QACA,KAAAC,wBAAA,GAAAN,IAAA,CAAAkC,OAAA,CAAA5B,wBAAA;QACA,KAAAC,eAAA,GAAAP,IAAA,CAAAkC,OAAA,CAAA3B,eAAA;QACA,KAAAC,cAAA,GAAAR,IAAA,CAAAkC,OAAA,CAAA1B,cAAA;QACA,KAAAC,eAAA,GAAAT,IAAA,CAAAkC,OAAA,CAAAzB,eAAA;QACA,KAAAC,SAAA,GAAAV,IAAA,CAAAkC,OAAA,CAAAxB,SAAA;QACA,KAAAC,SAAA,GAAAX,IAAA,CAAAkC,OAAA,CAAAvB,SAAA;QACA,KAAAC,OAAA,GAAAZ,IAAA,CAAAkC,OAAA,CAAAtB,OAAA;QACA,KAAAC,aAAA,GAAAb,IAAA,CAAAkC,OAAA,CAAArB,aAAA;QACA,KAAAC,aAAA,GAAAd,IAAA,CAAAkC,OAAA,CAAApB,aAAA;MACA;MACA,IAAAd,IAAA,CAAA+B,QAAA;QACA,KAAAC,YAAA,CAAAG,KAAA;UACAD,OAAA,EAAAlC,IAAA,CAAAkC;QACA;MACA;IACA,GACAE,KAAA,CAAAD,KAAA;MACA,KAAAE,IAAA,CAAAF,KAAA,YAAAA,KAAA;MACA,KAAAH,YAAA,CAAAG,KAAA;QACAD,OAAA;MACA;IACA;IAEA,KAAAnB,UAAA,QAAAF,aAAA,QAAAC,aAAA;EACA;EACAwB,QAAA;EACAC,OAAA;IACAC,oBAAA,WAAAA,CAAA;MACA,KAAAzB,UAAA,QAAAF,aAAA,QAAAC,aAAA;MACA,YAAAC,UAAA;IACA;EACA;EACA0B,QAAA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}