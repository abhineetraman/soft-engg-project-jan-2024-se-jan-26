{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport router from '../router';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    user: {\n      user_id: \"\",\n      role: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      email: \"\",\n      profile_photo_loc: \"\"\n    },\n    web_token: \"\",\n    token_expiry_on: 0,\n    logged_status: false,\n    timeout_id: null\n  },\n  getters: {\n    get_user: function (state) {\n      return state.user;\n    },\n    get_user_id: function (state) {\n      return state.user.user_id;\n    },\n    get_user_role: function (state) {\n      return state.user.role;\n    },\n    get_user_profile_pic: function (state) {\n      return state.user.profile_photo_loc;\n    },\n    get_web_token: function (state) {\n      return state.web_token;\n    },\n    get_token_expiry_on: function (state) {\n      return state.token_expiry_on;\n    },\n    get_logged_status: function (state) {\n      return state.logged_status;\n    }\n  },\n  mutations: {\n    initialiseStore(state) {\n      // Check if the ID exists\n      if (localStorage.getItem('store')) {\n        console.log('App creating. Store available in local storage');\n        // Replace the state object with the stored item\n        this.replaceState(Object.assign(state, JSON.parse(localStorage.getItem('store'))));\n      }\n    },\n    SET_STATE_AFTER_LOGIN(state, payload) {\n      state.user.first_name = payload.first_name;\n      state.user.last_name = payload.last_name;\n      state.user.email = payload.email;\n      state.user.user_id = payload.user_id;\n      state.user.role = payload.role;\n      state.web_token = payload.web_token;\n      state.token_expiry_on = payload.token_expiry_on;\n      state.user.profile_photo_loc = payload.profile_photo_loc;\n      state.logged_status = true;\n    },\n    SET_STATE_AFTER_LOGOUT(state, payload) {\n      state.user.first_name = \"\";\n      state.user.last_name = \"\";\n      state.user.email = \"\";\n      state.user.user_id = \"\";\n      state.user.role = \"\";\n      state.web_token = \"\";\n      state.token_expiry_on = 0;\n      state.user.profile_photo_loc = \"\";\n      state.logged_status = false;\n      clearTimeout(state.timeout_id);\n    },\n    SET_STATE_AFTER_PROFILE_UPDATE(state, payload) {\n      state.user.first_name = payload.first_name;\n      state.user.last_name = payload.last_name;\n      state.user.email = payload.email;\n      state.user.profile_photo_loc = payload.profile_photo_loc;\n    },\n    SET_TIMEOUT_ID(state, payload) {\n      state.timeout_id = payload;\n    }\n  },\n  actions: {\n    set_state_after_login(context, payload) {\n      context.commit('SET_STATE_AFTER_LOGIN', payload);\n    },\n    set_state_after_logout(context, payload) {\n      context.commit('SET_STATE_AFTER_LOGOUT', payload);\n    },\n    set_state_after_profile_update(context, payload) {\n      context.commit('SET_STATE_AFTER_PROFILE_UPDATE', payload);\n    },\n    token_timeout_fn: async function (context, payload) {\n      // delete token after timeout\n      const timeout_id = setTimeout(function () {\n        alert(\"Token Expired. Please login again\");\n        context.commit('SET_STATE_AFTER_LOGOUT', payload);\n        router.push(\"/login\");\n      }, 1 * 60 * 1000); // 1000 means 1 sec\n      context.commit('SET_TIMEOUT_ID', timeout_id);\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["Vue","Vuex","router","use","Store","state","user","user_id","role","first_name","last_name","email","profile_photo_loc","web_token","token_expiry_on","logged_status","timeout_id","getters","get_user","get_user_id","get_user_role","get_user_profile_pic","get_web_token","get_token_expiry_on","get_logged_status","mutations","initialiseStore","localStorage","getItem","console","log","replaceState","Object","assign","JSON","parse","SET_STATE_AFTER_LOGIN","payload","SET_STATE_AFTER_LOGOUT","clearTimeout","SET_STATE_AFTER_PROFILE_UPDATE","SET_TIMEOUT_ID","actions","set_state_after_login","context","commit","set_state_after_logout","set_state_after_profile_update","token_timeout_fn","setTimeout","alert","push","modules"],"sources":["/mnt/d/D/IIT Madras/SE/Project/code/code/frontend/src/store/index.js"],"sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport router from '../router';\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    user: {\r\n      user_id: \"\",\r\n      role: \"\",\r\n      first_name: \"\",\r\n      last_name: \"\",\r\n      email: \"\",\r\n      profile_photo_loc: \"\",\r\n    },\r\n    web_token: \"\",\r\n    token_expiry_on: 0,\r\n    logged_status: false,\r\n    timeout_id: null,\r\n  },\r\n  getters: {\r\n    get_user: function (state) {\r\n      return state.user\r\n    },\r\n    get_user_id: function (state) {\r\n      return state.user.user_id\r\n    },\r\n    get_user_role: function (state) {\r\n      return state.user.role\r\n    },\r\n    get_user_profile_pic: function (state) {\r\n      return state.user.profile_photo_loc\r\n    },\r\n    get_web_token: function (state) {\r\n      return state.web_token\r\n    },\r\n    get_token_expiry_on: function (state) {\r\n      return state.token_expiry_on\r\n    },\r\n    get_logged_status: function (state) {\r\n      return state.logged_status\r\n    },\r\n\r\n  },\r\n  mutations: {\r\n    initialiseStore(state) {\r\n      // Check if the ID exists\r\n      if (localStorage.getItem('store')) {\r\n        console.log('App creating. Store available in local storage');\r\n        // Replace the state object with the stored item\r\n        this.replaceState(\r\n          Object.assign(state, JSON.parse(localStorage.getItem('store')))\r\n        );\r\n      }\r\n    },\r\n\r\n    SET_STATE_AFTER_LOGIN(state, payload) {\r\n      state.user.first_name = payload.first_name;\r\n      state.user.last_name = payload.last_name;\r\n      state.user.email = payload.email;\r\n      state.user.user_id = payload.user_id;\r\n      state.user.role = payload.role;\r\n      state.web_token = payload.web_token;\r\n      state.token_expiry_on = payload.token_expiry_on;\r\n      state.user.profile_photo_loc = payload.profile_photo_loc;\r\n      state.logged_status = true;\r\n    },\r\n    SET_STATE_AFTER_LOGOUT(state, payload) {\r\n      state.user.first_name = \"\";\r\n      state.user.last_name = \"\";\r\n      state.user.email = \"\";\r\n      state.user.user_id = \"\";\r\n      state.user.role = \"\";\r\n      state.web_token = \"\";\r\n      state.token_expiry_on = 0;\r\n      state.user.profile_photo_loc = \"\";\r\n      state.logged_status = false;\r\n      clearTimeout(state.timeout_id);\r\n    },\r\n    SET_STATE_AFTER_PROFILE_UPDATE(state, payload) {\r\n      state.user.first_name = payload.first_name;\r\n      state.user.last_name = payload.last_name;\r\n      state.user.email = payload.email;\r\n      state.user.profile_photo_loc = payload.profile_photo_loc;\r\n    },\r\n    SET_TIMEOUT_ID(state, payload) {\r\n      state.timeout_id = payload;\r\n    }\r\n  },\r\n  actions: {\r\n    set_state_after_login(context, payload) {\r\n      context.commit('SET_STATE_AFTER_LOGIN', payload);\r\n    },\r\n    set_state_after_logout(context, payload) {\r\n      context.commit('SET_STATE_AFTER_LOGOUT', payload);\r\n    },\r\n    set_state_after_profile_update(context, payload) {\r\n      context.commit('SET_STATE_AFTER_PROFILE_UPDATE', payload);\r\n    },\r\n    token_timeout_fn: async function (context, payload) {\r\n      // delete token after timeout\r\n      const timeout_id = setTimeout(function () {\r\n        alert(\"Token Expired. Please login again\");\r\n        context.commit('SET_STATE_AFTER_LOGOUT', payload);\r\n        router.push(\"/login\");\r\n      }, 1 * 60 * 1000);  // 1000 means 1 sec\r\n      context.commit('SET_TIMEOUT_ID', timeout_id);\r\n    },\r\n  },\r\n  modules: {\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}